<!-- login.component.html -->
<div class="login-container">
  <div class="card">
    <div class="card-body">
      <h2 class="card-title text-center mb-4">Login</h2>
      
      <form (ngSubmit)="login()" #loginForm="ngForm" novalidate>
        <div class="mb-3">
          <label for="userName" class="form-label">Username</label>
          <input
            type="text"
            id="userName"
            name="userName"
            class="form-control"
            placeholder="Enter your username"
            required
            minlength="3"
            [(ngModel)]="loginData.userName"
            #userName="ngModel"
          />
          <div *ngIf="userName.invalid && userName.touched" class="invalid-feedback">
            Username is required and must be at least 3 characters.
          </div>
        </div>

        <div class="mb-4">
          <label for="password" class="form-label">Password</label>
          <input
            type="password"
            id="password"
            name="password"
            class="form-control"
            placeholder="Enter your password"
            required
            minlength="6"
            [(ngModel)]="loginData.password"
            #password="ngModel"
          />
          <div *ngIf="password.invalid && password.touched" class="invalid-feedback">
            Password is required and must be at least 6 characters.
          </div>
        </div>

        <div *ngIf="errorMessage" class="alert alert-danger mb-3">
          {{ errorMessage }}
        </div>

        <button 
          type="submit" 
          class="btn btn-primary w-100 py-2 mb-3"
          [disabled]="loginForm.invalid || isLoading"
        >
          <span *ngIf="!isLoading">Login</span>
          <span *ngIf="isLoading">
            <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
            <span role="status">Logging in...</span>
          </span>
        </button>

        <div class="text-center">
          <p class="mb-0">Don't have an account?</p>
          <button class="btn btn-link p-0" type="button" (click)="navigateToSignUp()">
            Create new account
            </button>
        </div>
      </form>
    </div>
  </div>
</div>